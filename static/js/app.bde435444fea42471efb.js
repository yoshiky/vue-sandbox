webpackJsonp([1],{"0ACm":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("p",[this._v("© n-yoshiky")])],1)},staticRenderFns:[]};var n=i("VU/8")({name:"App"},a,!1,function(t){i("zpnC")},null,null).exports,o=i("/ocq"),r={name:"item-list",props:["items","idx"],methods:{priceWithTax:function(t){return new Intl.NumberFormat("ja-JP").format(Math.floor(1.08*t))}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"columns is-mobile"},[i("div",{staticClass:"column is-6 input-text"},[i("p",{staticClass:"control is-expanded"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.items[t.idx],expression:"items[idx]"}],staticClass:"input",attrs:{type:"number"},domProps:{value:t.items[t.idx]},on:{input:function(e){e.target.composing||t.$set(t.items,t.idx,e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"column has-text-right sp-price-with-tax"},[i("span",[t._v(t._s(t.priceWithTax(t.items[t.idx])))])]),t._v(" "),i("div",{staticClass:"column is-1"},[i("button",{staticClass:"button is-primary",on:{click:function(e){t.$emit("remove")}}},[t._v("-")])])])])},staticRenderFns:[]};var l={name:"list-container",data:function(){return{items:[""],totalTaxIn:0}},updated:function(){var t=this.items.map(Number).reduce(function(t,e){return t+e}),e=new Intl.NumberFormat("ja-JP");this.totalTaxIn=e.format(Math.floor(1.08*t))},methods:{addRow:function(){this.items.push("")}},components:{ItemList:i("VU/8")(r,c,!1,function(t){i("TbS9")},"data-v-0f71da72",null).exports}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"shopping-list"}},[i("nav",{staticClass:"top-nav navbar is-fixed-top"},[i("p",[t._v("合計(税込): "+t._s(t.totalTaxIn)+" 円")])]),t._v(" "),i("div",{staticClass:"main-container container"},[t._l(t.items,function(e,s){return i("item-list",{key:s,attrs:{items:t.items,idx:s},on:{remove:function(e){t.items.splice(s,1)}}})}),t._v(" "),i("button",{staticClass:"button is-primary is-outlined is-small",on:{click:t.addRow}},[t._v("add")])],2)])},staticRenderFns:[]};var u=i("VU/8")(l,d,!1,function(t){i("r6/h")},"data-v-01de6561",null).exports,m=i("mtWM"),v=i.n(m),p={data:function(){return{moneyHistories:[],tmpData:[],targetDate:this.getTargetDate(),dateSelectOptions:this.selectOptions(),isfixedcost:"all"}},methods:{fetchZaim:function(){var t=this,e="https://myzaim.herokuapp.com/zaim/creditcard?mapping=1&start_date="+this.getStartDate+"&end_date="+this.getEndDate;v.a.get(e).then(function(e){t.moneyHistories=e.data})},zeroPadding:function(t,e){return("0000000000"+t).slice(-e)},selectOptions:function(){var t=new Date;t.setDate(1),t.setMonth(t.getMonth()+1);for(var e=[];;){var i=t.getFullYear(),s=this.zeroPadding(t.getMonth()+1,2);if(e.push({text:i+"-"+s,value:i+""+s}),i+s==="201808")break;t.setMonth(t.getMonth()-1)}return e},getTargetDate:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1;return e+""+this.zeroPadding(i,2)}},computed:{getStartDate:function(){var t=this.targetDate.slice(0,4),e=this.targetDate.slice(4),i=new Date(t,e-1,1),s=i.getMonth()+1;return i.getFullYear()+"-"+s+"-"+i.getDate()},getEndDate:function(){var t=this.targetDate.slice(0,4),e=this.targetDate.slice(4),i=new Date(t,e,0),s=i.getMonth()+1;return i.getFullYear()+"-"+s+"-"+i.getDate()},summaryAmount:function(){var t=this;return this.moneyHistories.reduce(function(e,i,s,a){return"all"===t.isfixedcost||i.place===t.isfixedcost?e+i.amount:e},0)},histories:function(){var t=this;if(void 0!==this.moneyHistories)return"all"===this.isfixedcost?this.moneyHistories:this.moneyHistories.filter(function(e){return e.place===t.isfixedcost})}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("h2",[t._v("Monthly Billing of CreditCard")]),t._v(" "),i("p",[t._v("合計: ￥"+t._s(this.summaryAmount.toLocaleString()))]),t._v(" "),i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.targetDate,expression:"targetDate"}],attrs:{name:"date",id:"date"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.targetDate=e.target.multiple?i:i[0]}}},t._l(t.dateSelectOptions,function(e){return i("option",{key:e.value,domProps:{value:e.value}},[t._v("\n          "+t._s(e.text)+"\n      ")])})),t._v(" "),i("button",{on:{click:t.fetchZaim}},[t._v("SHOW")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.histories.length,expression:"histories.length"}]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isfixedcost,expression:"isfixedcost"}],attrs:{type:"radio",name:"is-fixed-cost",id:"fc-fca",value:"all"},domProps:{checked:t._q(t.isfixedcost,"all")},on:{change:function(e){t.isfixedcost="all"}}}),i("label",{attrs:{for:"fc-fca"}},[t._v("全て")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.isfixedcost,expression:"isfixedcost"}],attrs:{type:"radio",name:"is-fixed-cost",id:"fc-fcy",value:"固定費"},domProps:{checked:t._q(t.isfixedcost,"固定費")},on:{change:function(e){t.isfixedcost="固定費"}}}),i("label",{attrs:{for:"fc-fcy"}},[t._v("固定費")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.isfixedcost,expression:"isfixedcost"}],attrs:{type:"radio",name:"is-fixed-cost",id:"fc-fcn",value:""},domProps:{checked:t._q(t.isfixedcost,"")},on:{change:function(e){t.isfixedcost=""}}}),i("label",{attrs:{for:"fc-fcn"}},[t._v("固定費以外")])])]),t._v(" "),i("ul",t._l(t.histories,function(e){return i("li",{key:e.id,staticClass:"money-list"},[i("div",{staticClass:"list-inner-container"},[i("div",{staticClass:"list-inner-container-left"},[i("span",{staticClass:"list-amount"},[t._v("￥"+t._s(e.amount.toLocaleString()))])]),t._v(" "),i("div",{staticClass:"list-inner-container-right"},[i("span",{staticClass:"list-date"},[t._v(t._s(e.date))])])]),t._v(" "),i("span",{staticClass:"list-genre"},[t._v(t._s(e.genre_id))]),i("span",{staticClass:"p-comment"},[t._v(t._s(e.place))]),t._v(" "),i("div",{staticClass:"list-bottom"},[i("p",{staticClass:"p-comment"},[t._v(t._s(e.comment))])])])}))])},staticRenderFns:[]};var h=i("VU/8")(p,f,!1,function(t){i("0ACm")},"data-v-c3ccc8c0",null).exports;s.a.use(o.a);var _=new o.a({mode:"history",routes:[{path:"/calc",name:"ListContainer",component:u},{path:"/",name:"CreditcardHistory",component:h}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:_,components:{App:n},template:"<App/>"})},TbS9:function(t,e){},"r6/h":function(t,e){},zpnC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bde435444fea42471efb.js.map